(map => {
  const mapUrl = document.currentScript.src;
  const resolve = imports => Object.fromEntries(Object.entries(imports ).map(([k, v]) => [k, new URL(v, mapUrl).href]));
  document.head.appendChild(Object.assign(document.createElement("script"), {
    type: "importmap",
    innerHTML: JSON.stringify({
      imports: resolve(map.imports),
      scopes: Object.fromEntries(Object.entries(map.scopes).map(([k, v]) => [new URL(k, mapUrl).href, resolve(v)]))
    })
  }));
})
({
  "imports": {
    "roslib": "./dist/RosLib.js"
  },
  "scopes": {
    "./": {
      "bson": "https://unpkg.com/bson@7.0.0/lib/bson.mjs",
      "cbor2": "https://unpkg.com/cbor2@2.0.1/lib/index.js",
      "eventemitter3": "https://unpkg.com/eventemitter3@5.0.1/dist/eventemitter3.esm.js",
      "fast-png": "https://unpkg.com/fast-png@7.0.1/lib/index.js",
      "uuid": "https://unpkg.com/uuid@13.0.0/dist/index.js",
      "ws": "https://unpkg.com/ws@8.18.3/browser.js"
    },
    "https://unpkg.com/": {
      "@cto.af/wtf8": "https://unpkg.com/@cto.af/wtf8@0.0.2/lib/index.js",
      "iobuffer": "https://unpkg.com/iobuffer@6.0.1/lib/iobuffer.js",
      "pako": "https://unpkg.com/pako@2.1.0/dist/pako.esm.mjs"
    }
  }
});
