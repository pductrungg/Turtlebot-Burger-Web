import {
  Pr
} from "./chunk-DEX2YPT6.js";
import {
  require_browser
} from "./chunk-KBJYWAOH.js";
import {
  __toESM
} from "./chunk-WOOG5QLI.js";

// node_modules/roslib/dist/WsWebSocketTransport-6-v9C0gj.js
var t = __toESM(require_browser(), 1);
var i = class extends Pr {
  constructor(e) {
    super(), this.socket = e, this.registerEventListeners();
  }
  send(e) {
    this.socket.send(JSON.stringify(e));
  }
  close() {
    this.socket.close();
  }
  isConnecting() {
    return this.socket.readyState === t.WebSocket.CONNECTING;
  }
  isOpen() {
    return this.socket.readyState === t.WebSocket.OPEN;
  }
  isClosing() {
    return this.socket.readyState === t.WebSocket.CLOSING;
  }
  isClosed() {
    return this.socket.readyState === t.WebSocket.CLOSED;
  }
  registerEventListeners() {
    this.socket.onopen = (e) => {
      this.emit("open", e);
    }, this.socket.onclose = (e) => {
      this.emit("close", e);
    }, this.socket.onerror = (e) => {
      this.emit("error", e);
    }, this.socket.onmessage = (e) => {
      this.handleRawMessage(e.data);
    };
  }
};
export {
  i as WsWebSocketTransport
};
//# sourceMappingURL=WsWebSocketTransport-6-v9C0gj-KCR7VURK.js.map
